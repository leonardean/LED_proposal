#智能LED燈方案
##概述
To be tailored for each customer  
本方案介绍了Kii IoT解决方案在智能LED灯具领域的最佳实践以及一些成功案例。  
Kii是AllSeen联盟的重要成员并在AllJoyn标准的全球推广中做出了重大贡献，合作伙伴以及客户包括一些大型组织以及生产厂商，例如国内的阿里云, HTC以及阳光照明等。Kii为智能LED灯具的典型特性提供了一套完整的IoT解决方案，包括基于灯组和场景的远程控制，用户/设备数据管理以及同步，定时任务和安全机制等，Kii也为一些其他标准和特定的应用需求提供了一些灵活的可扩展的特性。  
下面部分将介绍Kii IoT解决方案在智能LED灯具领域的一些具体特性和细节。

##基本功能介紹
Kii Cloud具備完善的功能來實現智能LED燈的應用場景，本篇幅將對這些功能逐個加以說明。
###設備管理
Kii Cloud與WinnerMicro、MTK、TI、Qualcomm等多家芯片⼚廠商合作並開發相應SDK,使得這些⼚廠家的芯⽚可以輕鬆使⽤Kii Cloud雲服務。我們的工程師還針對不同型號的芯片優化SDK,盡可能的提⾼其運⾏效率和減少運行資源消耗。針對物聯⽹網應用場景,我們支持的設備相關功能有:

- **組網**: 移動應⽤客戶端(Android, iOS)將WiFi網絡的SSID以及密碼通過廣播給設備,且設備收到後便會⾃動完成配置並連上指定WiFi。隨後，客戶端就可以對同個網絡內的設備進行添加。
- **本地控制**: 在沒有外網的情況下,只要客戶端和智能設備在同一個局域網內,客戶端便可通過本地局域⺴網發送指令給設備進行控制操作。
- **設備註冊**: 當設備所在的網絡有外網連接，設備可以指定一個唯一的⾝份標識(如MAC地址)和密碼將其註冊⾄至Kii Cloud,並存有不限數量的⾃定義參數。
- **設備所屬**: 當用戶使用客戶端成功添加一個智能設備時，Kii Cloud將為設備和用戶建立所屬關係，便於日後的管理和操作。一台設備可以有多個所屬者，一個用戶可以有多台所屬設備。
- **遠程控制**: 在⽤戶和LED燈不在同個局域網下,用戶同樣可以遠程控制自己的LED燈。這也是傳統電器智能化的顯著功能之⼀和雲端服務的最大價值所在。Kii Cloud提供基於MQTT傳輸協議的遠程控制技術方案。
- **設備空間域(Thing Scope)**: 每個設備擁有其獨立的空間域用於自行儲存其所需的數據,而在各自的空間域中,數據的結構也可以靈活地自定義。每個設備空間域內數據默認僅對設備本身公開訪問。

###多種連接方式
使用Kii Cloud進行物聯網開發時，開發者既可以選擇將智能設備自身與外網相連接，直接使用雲端服務API；也可以選擇將智能設備與網關(Gateway)連接，由網關與雲端服務進行交互并轉達指令和消息。作為Allseen Alliance成員之一，Kii Cloud支持一切符合Alljoyn協議標準的設備與網關。
###設備控制
單⼀LED燈的控制并不能完全展示物聯網技術所帶來的便利,更加自由的組合操作才能滿足用⼾的多樣化需求。為此，除了最基本的單一LED燈的控制之外，Kii Cloud還提供了以下多種控制方式:

- **批量操作**: 用戶可以臨時指定多個LED燈并對其進行統一操作，以達到設定一致的目的。
- **燈組控制**: 將兩個或兩個以上的LED燈創建并保存為燈組,用戶可以直接對燈組進行控制。每次對燈組進⾏開關,更改顏色等操作都將同時操作燈組所包含的所有燈。
- **場景設置**: 將多個燈或者燈組創建為場景,在場景中每個燈/燈組的設定各不相同且獨⽴于其他所有控制方式。當用戶使用某個場景設置時,則將其所包含的燈/燈組設置為各自所預設的狀態。

###用戶管理
Kii Cloud擁有完善的用戶系統。⽤戶和設備並非獨立,Kii Cloud使開發者能夠根據業務邏輯靈活地處理用戶和設備的關係,從而達到深層次的權限意義。

- **⽤戶註冊**: 每個用戶可以使⽤用戶名/郵箱/⼿機號,和密碼進行賬號註冊,並存有不限數量的自定義參數。
- **社交網絡**: 除了手動註冊登錄信息至Kii Cloud之外,還可以使用社交網絡賬號進行更快捷的註冊,Kii Cloud支持的社交平台有QQ,微博,⼈人,新浪,Facebook,Twitter,LinkedIn等。
- **⽤戶空間域(User Scope)**: 和設備空間域相同,每個⽤戶也有獨立的空間域進行數據存儲。
- **用戶組**: 用戶之間可以建⽴群組關係從而進行複雜業務邏輯,用戶組成員共享用戶組空間域(可⽤於組內數據分享)。
**設備所屬關係**: Kii Cloud提供方法讓用戶(組)和設備建立所屬關係,所屬關係建立可以使⽤雙向驗證以確保安全性和私密性。設備的所屬者對該設備空間域同樣具有訪問權限。

###數據管理
在Kii Cloud中，數據都儲存在隸屬於不同空間域的Bucket容器中。除了設備空間域、用戶空間域、用戶組空間域外，每個應用都有其應用空間域。應用空間域內的所有數據對所有用戶(組)和設備公開訪問。在Kii Cloud中，所有的數據條目都可以被增、刪、改、查。數據都將以NoSQL的形式上傳和讀取，很大程度增添了數據結構的靈活性。具體的數據類型則包括：字符串、整型、布爾值、浮點型、數組等。每種空間域擁有相應地默認訪問權限列表:

Scope  | 創建新Bucket | 于Bucket中創建數據 | 从Bucket中訪問數據 | 刪除Bucket | 更改權限
------------- | ------------- | ------------- | ------------- | ------------- | -------------
Application	| -任何認證用戶	 | -任何認證用戶 |	-任何認證用戶/未認證用戶 | -任何認證用戶 |	-應用管理員
Group	| -所有小組成員 <br> -小組創建者	 | -所有小組成員 <br> -小組創建者 <br> -Bucket創建者	| -所有小組成員 <br> -小組創建者 <br> -Bucket創建者 | -小組創建者 <br> -Bucket創建者	| -小組創建者
User	| -該用戶	| -該用户 <br> -Bucket創建者 | -該用户 <br> -Bucket創建者 | -該用户 <br> -Bucket創建者	| -該用户
Thing	| -該设备 <br> -所屬者 | -該设备<br>-所屬者<br>-Bucket創建者|-該设备<br>-所屬者-Bucket創建者|	-該设备<br>-所屬者<br>-Bucket創建者|-該设备<br>-所屬者<br>-Bucket創建者

Kii Cloud同樣提供開發者更改權限列表的功能(默認的權限條目不能刪除)，以應對複雜的業務邏輯。
###安全性
Kii Cloud使用REST API(REST應用程序編程接口)的形式從服務端向客戶端提供功能服務。 REST (Representational State Transfer), 即為表述性狀態轉移,是整個互聯網結構的一個抽象性特徵。更準確的說,REST是一種結構風格,它充分利用了作為互聯網基石的Http協議,構建了一個面向應用而非面向web 瀏覽器/用戶的編程約定,這一約定現在已成為互聯網雲服務API的首選。

REST繼承了HTTP協議無狀態的特性,每一個請求都是上下文無關的,請求本身包含了相應端為相應這一請求所需的全部信息。這消除了分佈式系統橫向擴展時最大的瓶頸,改善了分佈式系統的可見性、可靠性以及可伸縮性,從事使得服務端可以自由的將前端請求調度給任意一台可用的後台服務器提供服務,而不必顧忌其他。

基於REST協議的功能接口，Kii Cloud同樣提供了安全的LED燈控制流程。具體體現在:

- Admin控制: 在LED燈的應用場景中，作為LED燈唯一的管理員(所屬者)，他可以隨時移除和添加可以控制LED燈的用戶。
- 遠程控制: 用戶是否能夠對某設備進行遠程控制的權限會被嚴格地控制。Kii Cloud會確保只有合法的設備操控者才能夠查看到并控制LED燈。

###定時任務
除了對於燈的多樣即時控制,在Kii Cloud功能的支持下,同樣可以實現對於燈,燈組,場景的定時控制。即用戶可以像設置手機鬧鐘一樣給他們的LED燈設置定時控制。一旦設置成功,無論⽤戶⾝在何處,預設的控制都會按時傳達到設備上。這一功能使得LED燈可以更加『聰明』地自動操作。
###數據同步
為了應對在頻繁的手機切換以及先後操作下數據不一致的問題, 開發者往往需要開發一套數據本地與雲端同步的功能。而Kii Cloud能給出完美解決賬號下數據同步問題的方案。同時支持server win, client win,和both win的同步策略，確保數據不遺漏,不冗餘,多台設備數據一致。
##高級功能介紹
###開放API
###與現有用戶系統連接
###互通操作
###數據收集與分析
###數據導出
###全球部署
###可靠性
###固件更新
###多種部署方案
##項目工作範圍
##Kii的優勢
###可靠性
###全球支持
###伸縮性
###安全性
###IOT行業專家
###本地支持與開發
###流程管理
####核心開發團隊
####解決方案團退
###運作過程
##成功案例
###陽光照明
###Rooti
##總結

##SOW (需要根据每个客户的实际情况进行修改)
###WBS
- **需求定义**：业务需求，性能需求等
- **功能设计**：从业务角度划分，设计功能点
- **技术设计**：设计功能点的具体技术细节与实现
- **开发与单元测试**：开发系统并对每一个单元进行测试
- **系统集成测试**：对集成后的系统/组件进行整体测试，验证系统与功能/技术设计的一致性
- **用户验收测试**：验证系统满足客户需求
- **交付**：文档，培训，数据处理，实施，上线等

###工时估算
根据项目的具体情况

###计划估算
根据项目的具体情况


##流程管理
**核心开发团队 - （Kii日本）SCRUM/Kanban/Sprint**

**解决方案团队 - （Kii美国，Kii新加坡，Kii中国，Kii西班牙）项目管理, 质量管理，业务/技术咨询**  
基于Kii IoT解决方案的最佳实践，我们的团队可以为您的产品和项目提供全方位的专业支持

- **时间与工时**：根据预估的工作量建立时间与工时计划，并在整个项目周期中对进度进行监视与控制
- **沟通**：流畅与有效的沟通，确保信息/决策透明化并被告知到每一个项目干系人
- **质量管理**：按照标准的组织流程对项目每个阶段的成果进行评估，追踪每个需求点从定义到交付的流程
- **信息安全**：分离测试数据与真实数据，同时根据Kii解决方案保证所有的信息由相应的安全机制保护并访问
- **风险控制**：尽可能早期识别每一项风险并做好相应的防范措施
- **变更管理**：对每一项变更进行记录并充分讨论，同时评估相应的收益与影响
- **交付**：确保每一次交付都被标记并且可追溯，对每一次发布做好充足的上线计划以及回滚计划，降低意外发生的影响
